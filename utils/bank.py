BANK_NUM2ORG_MAP = {
    "185720": "KMNLS",  # "昆明农联社"
    "622369": "KMNLS",
    "623190": "KMNLS",
    "622935": "JLLHS",  # "吉林农信联合社"
    "623162": "SRCB", # "上海农商银行"
    "620522": "BOS",  # "上海银行"
    "622267": "BOS",
    "622279": "BOS",
    "622468": "BOS",  # "上海银行"
    "622892": "BOS",
    "940021": "BOS",
    "622172": "BOS",
    "622987": "BOS",
    "622985": "BOS",
    "438600": "BOS",
    "622278": "BOS",
    "621005": "BOS",
    "623185": "BOS",
    "623183": "BOS",
    "621050": "BOS",
    "415599": "CMBC",  # "民生银行"
    "421393": "CMBC",
    "421865": "CMBC",
    "427570": "CMBC",
    "472067": "CMBC",
    "472068": "CMBC",
    "621691": "CMBC",
    "622600": "CMBC",
    "622601": "CMBC",
    "622602": "CMBC",
    "622603": "CMBC",
    "622615": "CMBC",
    "622616": "CMBC",
    "622617": "CMBC",
    "622618": "CMBC",
    "622619": "CMBC",
    "622620": "CMBC",
    "622622": "CMBC",
    "623683": "CMBC",
    "427571": "CMBC",
    "621067": "BJRCB",  # "北京农村商业银行"
    "621453": "CBHB",  # "渤海银行"
    "622884": "CBHB",
    "621977": "BOWZ",  # "温州银行"
    "442729": "CITIC",  # "中信银行"
    "442730": "CITIC",
    "621768": "CITIC",
    "621771": "CITIC",
    "621773": "CITIC",
    "622690": "CITIC",
    "622691": "CITIC",
    "622696": "CITIC",
    "622698": "CITIC",
    "622998": "CITIC",
    "968807": "CITIC",
    "433671": "CITIC",
    "433670": "CITIC",
    "622999": "CITIC",
    "620527": "CITIC",
    "621772": "CITIC",
    "621770": "CITIC",
    "620082": "CITIC",
    "621767": "CITIC",
    "622692": "CITIC",
    "433680": "CITIC",
    "968809": "CITIC",
    "968808": "CITIC",
    "456351": "BOC",  # "中国银行"
    "601382": "BOC",
    "620061": "BOC",
    "621283": "BOC",
    "621330": "BOC",
    "621332": "BOC",
    "621568": "BOC",
    "621569": "BOC",
    "621660": "BOC",
    "621661": "BOC",
    "621663": "BOC",
    "621666": "BOC",
    "621668": "BOC",
    "621669": "BOC",
    "621672": "BOC",
    "621725": "BOC",
    "621756": "BOC",
    "621758": "BOC",
    "621785": "BOC",
    "621786": "BOC",
    "621787": "BOC",
    "621788": "BOC",
    "621790": "BOC",
    "623208": "BOC",
    "623569": "BOC",
    "623571": "BOC",
    "623572": "BOC",
    "623573": "BOC",
    "623575": "BOC",
    "623586": "BOC",
    "622346": "BOC",
    "622347": "BOC",
    "622348": "BOC",
    "622323": "CSNB",  # "常熟农村商业银行"
    "622856": "GLB",  # "桂林市商业银行"
    "620518": "CEB",  # "光大银行"
    "621489": "CEB",
    "621490": "CEB",
    "621491": "CEB",
    "621492": "CEB",
    "622661": "CEB",
    "622662": "CEB",
    "622663": "CEB",
    "622664": "CEB",
    "622665": "CEB",
    "622666": "CEB",
    "622667": "CEB",
    "622668": "CEB",
    "622669": "CEB",
    "622670": "CEB",
    "622673": "CEB",
    "623156": "CEB",
    "900302": "CEB",
    "900304": "CEB",
    "900305": "CEB",
    "900309": "CEB",
    "622674": "CEB",
    "622672": "CEB",
    "622671": "CEB",
    "620535": "CEB",
    "622660": "CEB",
    "623159": "CEB",
    "623158": "CEB",
    "623157": "CEB",
    "623155": "CEB",
    "620085": "CEB",
    "621492": "CEB",
    "622379": "QLB",  # "齐鲁银行股份有限公司"
    "623170": "BQD",  # "青岛银行"
    "621517": "QHNS",  # "青海省农村信用社联合社"
    "621013": "HBNXS",  # "湖北农信社"
    "622412": "HBNXS",
    "622169": "HNLHS",  # "湖南省农村信用社联合社"
    "623090": "HNLHS",
    "621777": "NJCB",  # "南京银行"
    "623072": "NCCB",  # "南充市商业银行"
    "621088": "MINTAI",  # "浙江民泰商业银行"
    "621726": "MINTAI",
    "621028": "CZB",  # "浙江稠州商业银行"
    "622162": "JJB",  # "九江银行股份有限公司"
    "623146": "JJB",
    "622324": "JSNXS",  # "江苏省农村信用社联合社"
    "623066": "JSNXS",
    "622173": "JSB",  # "江苏银行"
    "622873": "JSB",
    "622876": "JSB",
    "622682": "JXHZS",  # "江西农信联合社"
    "621269": "JXB",  # "江西银行"
    "621359": "JXB",
    "622275": "JXB",
    "621351": "SPDB",  # "浦东发展银行"
    "621792": "SPDB",
    "621793": "SPDB",
    "621795": "SPDB",
    "622516": "SPDB",
    "622518": "SPDB",
    "622521": "SPDB",
    "622522": "SPDB",
    "622523": "SPDB",
    "621796": "SPDB",
    "621791": "SPDB",
    "621352": "SPDB",
    "984303": "SPDB",
    "984301": "SPDB",
    "621390": "SPDB",
    "621521": "SDNS",  # "山东省农村信用社联合社"
    "622319": "SDNS",
    "622320": "SDNS",
    "602907": "SZPAB",  # "平安银行"
    "621626": "SZPAB",
    "622298": "SZPAB",
    "622538": "SZPAB",
    "622986": "SZPAB",
    "622989": "SZPAB",
    "623058": "SZPAB",
    "627066": "SZPAB",
    "622983": "SZPAB",
    "622539": "SZPAB",
    "622536": "SZPAB",
    "622535": "SZPAB",
    "998800": "SZPAB",
    "627069": "SZPAB",
    "627068": "SZPAB",
    "627067": "SZPAB",
    "415753": "SZPAB",
    "415752": "SZPAB",
    "620010": "SZPAB",
    "412963": "SZPAB",
    "412962": "SZPAB",
    "622908": "CIB",  # "兴业银行"
    "622909": "CIB",
    "966666": "CIB",
    "438589": "CIB",
    "438588": "CIB",
    "621245": "CIB",
    "621518": "GZNS",  # "广东省农村信用社联合社"
    "621728": "GZNS",
    "622322": "GDZDB",  # "广东顺德农村商业银行"
    "621462": "GDB",  # "广发银行股份有限公司"
    "622568": "GDB",
    "621448": "CAB",  # "长安银行"
    "622439": "GZSYB",  # "广州农村商业银行股份有限公司"
    "622467": "GZB",  # "广州银行股份有限公司"
    "621418": "NBB",  # "宁波银行"
    "622281": "NBB",
    "622316": "NBB",
    "621737": "NMGS",  # "内蒙古自治区农村信用联合社"
    "622976": "NMGS",
    "621267": "FJHXB",  # "福建海峡银行股份有限公司"
    "622184": "FJNL",  # "福建省农村信用社联合社"
    "623036": "FJNL",
    "622860": "LJB",  # "龙江银行"
    "621282": "ABC",  # "农业银行"
    "621336": "ABC",
    "621671": "ABC",
    "622821": "ABC",
    "622822": "ABC",
    "622823": "ABC",
    "622824": "ABC",
    "622825": "ABC",
    "622826": "ABC",
    "622827": "ABC",
    "622828": "ABC",
    "622836": "ABC",
    "622837": "ABC",
    "622840": "ABC",
    "622841": "ABC",
    "622842": "ABC",
    "622843": "ABC",
    "622844": "ABC",
    "622845": "ABC",
    "622846": "ABC",
    "622847": "ABC",
    "622848": "ABC",
    "622849": "ABC",
    "955990": "ABC",
    "955991": "ABC",
    "955995": "ABC",
    "955998": "ABC",
    "103000": "ABC",
    "620059": "ABC",
    "623206": "ABC",
    "620501": "ABC",
    "623018": "ABC",
    "621619": "ABC",
    "405512": "COMM",  # "交通银行"
    "601428": "COMM",
    "622250": "COMM",
    "622251": "COMM",
    "622252": "COMM",
    "622253": "COMM",
    "622254": "COMM",
    "622258": "COMM",
    "622259": "COMM",
    "622260": "COMM",
    "622261": "COMM",
    "622262": "COMM",
    "621335": "COMM",
    "621002": "COMM",
    "621069": "COMM",
    "621436": "COMM",
    "620013": "COMM",
    "620062": "PSBC",  # "邮储银行"
    "621095": "PSBC",
    "621098": "PSBC",
    "621285": "PSBC",
    "621599": "PSBC",
    "621797": "PSBC",
    "621798": "PSBC",
    "621799": "PSBC",
    "622150": "PSBC",
    "622151": "PSBC",
    "622188": "PSBC",
    "623218": "PSBC",
    "623698": "PSBC",
    "955100": "PSBC",
    "620062": "PSBC",
    "622181": "PSBC",
    "621096": "PSBC",
    "622199": "PSBC",
    "623219": "PSBC",
    "621622": "PSBC",
    "621674": "PSBC",
    "622960": "HDB",  # "邯郸银行"
    "623000": "HBB",  # "河北银行股份有限公司"
    "622561": "DYB",  # "德阳银行"
    "622947": "HHB",  # "黄河农村商业银行"
    "623095": "HHB",
    "622425": "HEBB",  # "哈尔滨银行"
    "621465": "CRCB",  # "重庆农村商业银行"
    "621528": "CRCB",
    "622867": "CRCB",
    "622885": "CRCB",
    "410062": "CMB",  # "招商银行"
    "468203": "CMB",
    "512425": "CMB",
    "524011": "CMB",
    "621286": "CMB",
    "621483": "CMB",
    "621485": "CMB",
    "621486": "CMB",
    "622609": "CMB",
    "622575": "CMB",
    "622576": "CMB",
    "622577": "CMB",
    "622578": "CMB",
    "622579": "CMB",
    "622580": "CMB",
    "622581": "CMB",
    "622582": "CMB",
    "622588": "CMB",
    "622598": "CMB",
    "955550": "CMB",
    "402658": "CMB",
    "690755": "CMB",
    "621299": "CMB",
    "620058": "ICBC",  # "工商银行"
    "621225": "ICBC",
    "621226": "ICBC",
    "621227": "ICBC",
    "621281": "ICBC",
    "621288": "ICBC",
    "621558": "ICBC",
    "621559": "ICBC",
    "621670": "ICBC",
    "621721": "ICBC",
    "621722": "ICBC",
    "621723": "ICBC",
    "622200": "ICBC",
    "622202": "ICBC",
    "622203": "ICBC",
    "622208": "ICBC",
    "622210": "ICBC",
    "622211": "ICBC",
    "622212": "ICBC",
    "622213": "ICBC",
    "622214": "ICBC",
    "622215": "ICBC",
    "622220": "ICBC",
    "622225": "ICBC",
    "622230": "ICBC",
    "622235": "ICBC",
    "622240": "ICBC",
    "622245": "ICBC",
    "622307": "ICBC",
    "622902": "ICBC",
    "623062": "ICBC",
    "955880": "ICBC",
    "955881": "ICBC",
    "955882": "ICBC",
    "955888": "ICBC",
    "623700": "ICBC",
    "621749": "ICBC",
    "622505": "ICBC",
    "622504": "ICBC",
    "622502": "ICBC",
    "621309": "ICBC",
    "621307": "ICBC",
    "621306": "ICBC",
    "621414": "ICBC",
    "621305": "ICBC",
    "621304": "ICBC",
    "624301": "ICBC",
    "621303": "ICBC",
    "621302": "ICBC",
    "621410": "ICBC",
    "621300": "ICBC",
    "622019": "ICBC",
    "622018": "ICBC",
    "622017": "ICBC",
    "622016": "ICBC",
    "623100": "ICBC",
    "622015": "ICBC",
    "622013": "ICBC",
    "622012": "ICBC",
    "622011": "ICBC",
    "622010": "ICBC",
    "623803": "ICBC",
    "900000": "ICBC",
    "620802": "ICBC",
    "622715": "ICBC",
    "622606": "ICBC",
    "622605": "ICBC",
    "622931": "ICBC",
    "622604": "ICBC",
    "622930": "ICBC",
    "621409": "ICBC",
    "621408": "ICBC",
    "621407": "ICBC",
    "621733": "ICBC",
    "621406": "ICBC",
    "621732": "ICBC",
    "621405": "ICBC",
    "621731": "ICBC",
    "624402": "ICBC",
    "621404": "ICBC",
    "621511": "ICBC",
    "621402": "ICBC",
    "623202": "ICBC",
    "622008": "ICBC",
    "622007": "ICBC",
    "622006": "ICBC",
    "622114": "ICBC",
    "622005": "ICBC",
    "620200": "ICBC",
    "622004": "ICBC",
    "621464": "ICBC",
    "622003": "ICBC",
    "622111": "ICBC",
    "622002": "ICBC",
    "622110": "ICBC",
    "622929": "ICBC",
    "622928": "ICBC",
    "620905": "ICBC",
    "622927": "ICBC",
    "620904": "ICBC",
    "622926": "ICBC",
    "623901": "ICBC",
    "621240": "ICBC",
    "620902": "ICBC",
    "622706": "ICBC",
    "622703": "ICBC",
    "621618": "ICBC",
    "621617": "ICBC",
    "621616": "ICBC",
    "621724": "ICBC",
    "621615": "ICBC",
    "621614": "ICBC",
    "621613": "ICBC",
    "621612": "ICBC",
    "621720": "ICBC",
    "621611": "ICBC",
    "621502": "ICBC",
    "621610": "ICBC",
    "623301": "ICBC",
    "620412": "ICBC",
    "620411": "ICBC",
    "620302": "ICBC",
    "620410": "ICBC",
    "622105": "ICBC",
    "622104": "ICBC",
    "621781": "ICBC",
    "622103": "ICBC",
    "622102": "ICBC",
    "622806": "ICBC",
    "621719": "ICBC",
    "621609": "ICBC",
    "621608": "ICBC",
    "621607": "ICBC",
    "621606": "ICBC",
    "621605": "ICBC",
    "621604": "ICBC",
    "621603": "ICBC",
    "621602": "ICBC",
    "620409": "ICBC",
    "620408": "ICBC",
    "620516": "ICBC",
    "620407": "ICBC",
    "620406": "ICBC",
    "620405": "ICBC",
    "620404": "ICBC",
    "622317": "ICBC",
    "620512": "ICBC",
    "620403": "ICBC",
    "623400": "ICBC",
    "620402": "ICBC",
    "622315": "ICBC",
    "622314": "ICBC",
    "402791": "ICBC",
    "622313": "ICBC",
    "624000": "ICBC",
    "621001": "ICBC",
    "622904": "ICBC",
    "622903": "ICBC",
    "621817": "ICBC",
    "621814": "ICBC",
    "620086": "ICBC",
    "622309": "ICBC",
    "620612": "ICBC",
    "622308": "ICBC",
    "620503": "ICBC",
    "623500": "ICBC",
    "620611": "ICBC",
    "620502": "ICBC",
    "622306": "ICBC",
    "622305": "ICBC",
    "621765": "ICBC",
    "622304": "ICBC",
    "622303": "ICBC",
    "622302": "ICBC",
    "621762": "ICBC",
    "621761": "ICBC",
    "621434": "ICBC",
    "621107": "ICBC",
    "621433": "ICBC",
    "621106": "ICBC",
    "621105": "ICBC",
    "621103": "ICBC",
    "624100": "ICBC",
    "621211": "ICBC",
    "621102": "ICBC",
    "623015": "ICBC",
    "621210": "ICBC",
    "623014": "ICBC",
    "623012": "ICBC",
    "623011": "ICBC",
    "510529": "ICBC",
    "621807": "ICBC",
    "621915": "ICBC",
    "621914": "ICBC",
    "621913": "ICBC",
    "621804": "ICBC",
    "621912": "ICBC",
    "621911": "ICBC",
    "620609": "ICBC",
    "548259": "ICBC",
    "621910": "ICBC",
    "427038": "ICBC",
    "620607": "ICBC",
    "620714": "ICBC",
    "623602": "ICBC",
    "620713": "ICBC",
    "620604": "ICBC",
    "622517": "ICBC",
    "620712": "ICBC",
    "620711": "ICBC",
    "620602": "ICBC",
    "620710": "ICBC",
    "622513": "ICBC",
    "622404": "ICBC",
    "621428": "ICBC",
    "622403": "ICBC",
    "622402": "ICBC",
    "621209": "ICBC",
    "622510": "ICBC",
    "621317": "ICBC",
    "621208": "ICBC",
    "621207": "ICBC",
    "621315": "ICBC",
    "621206": "ICBC",
    "621750": "ICBC",
    "621423": "ICBC",
    "621205": "ICBC",
    "621313": "ICBC",
    "621204": "ICBC",
    "623008": "ICBC",
    "621203": "ICBC",
    "624200": "ICBC",
    "621311": "ICBC",
    "621202": "ICBC",
    "623006": "ICBC",
    "621909": "ICBC",
    "621379": "ICBC",
    "621908": "ICBC",
    "623002": "ICBC",
    "621378": "ICBC",
    "621907": "ICBC",
    "621377": "ICBC",
    "621906": "ICBC",
    "621376": "ICBC",
    "621905": "ICBC",
    "621375": "ICBC",
    "621904": "ICBC",
    "621374": "ICBC",
    "621903": "ICBC",
    "620709": "ICBC",
    "622949": "ICBC",
    "621372": "ICBC",
    "621901": "ICBC",
    "620708": "ICBC",
    "622020": "ICBC",
    "621371": "ICBC",
    "620707": "ICBC",
    "621370": "ICBC",
    "427028": "ICBC",
    "620706": "ICBC",
    "900010": "ICBC",
    "622509": "ICBC",
    "620704": "ICBC",
    "622944": "ICBC",
    "621237": "QHDB",  # "秦皇岛银行股份有限公司"
    "623196": "TAB",  # "泰安银行"
    "623039": "TZB",  # "台州银行"
    "623035": "SZRCB",  # "深圳农村商业银行"
    "421349": "CCB",  # "建设银行"
    "434061": "CCB",
    "434062": "CCB",
    "436742": "CCB",
    "524094": "CCB",
    "526410": "CCB",
    "552245": "CCB",
    "620060": "CCB",
    "621080": "CCB",
    "621081": "CCB",
    "621082": "CCB",
    "621284": "CCB",
    "621466": "CCB",
    "621467": "CCB",
    "621488": "CCB",
    "621499": "CCB",
    "621598": "CCB",
    "621673": "CCB",
    "621700": "CCB",
    "622280": "CCB",
    "622700": "CCB",
    "622966": "CCB",
    "622988": "CCB",
    "623094": "CCB",
    "623211": "CCB",
    "623668": "CCB",
    "620107": "CCB",
    "621621": "CCB",
    "621084": "CCB",
    "589970": "CCB",
    "623251": "CCB",
    "622382": "CCB",
    "621083": "CCB",
    "621487": "CCB",
}

BANK_NAME_LIST = {
    # 归一化, key为用钱宝使用的代号, list中为各资方的代号
    'ICBC': [u'工商银行', 'ICBCC', 'ICBCM', 'ICBK', ],
    'ABC': [u'农业银行', 'ABOC', ],
    'BOC': [u'中国银行', 'BKCH', ],
    'CCB': [u'建设银行', 'CCB1', 'PCBC'],
    'PSBC': [u'邮政储蓄银行', 'POST', ],
    'CMB': [u'招商银行', 'CMBC', ],
    'SPDB': [u'浦发银行', ],
    'CIB': [u'兴业银行', 'SG', 'FJIB', ],
    'GDB': [u'广发银行', 'CGBC', 'GDBK', ],
    'CITIC': [u'中信银行', 'CCBI', 'CITICBANK', 'CIBK', ],
    'CEB': [u'光大银行', 'EVER'],
    'SZPAB': [u'平安银行', 'PINGANBANK', 'SZDB', 'PINGAN'],
    'BOS': ['SHCB', 'BOSH'],  # 上海银行
    'COMM': [u'交通银行', 'BCM', 'COMM'],
}


class BankHelper(object):
    """
    银行卡号相关信息查询
    """

    _BANK_NAME_MAP = dict()

    def __init__(self):
        self._update_map()

    @classmethod
    def _update_map(cls):
        if cls._BANK_NAME_MAP:
            return
        for k, vv in BANK_NAME_LIST.items():
            for v in vv:
                cls._BANK_NAME_MAP[v] = k

    @classmethod
    def num2org(cls, bank_no):
        '''
        有可能查询为空
        '''
        prefix = str(bank_no)[0:6]
        val = BANK_NUM2ORG_MAP.get(prefix, '')
        return val

    @classmethod
    def org_normalize(cls, bank_org):
        if len(cls._BANK_NAME_MAP) == 0:
            cls._update_map()
        if bank_org in cls._BANK_NAME_MAP:
            return cls._BANK_NAME_MAP[bank_org]
        return bank_org


def bank_num2org(bank_no):
    return BankHelper.num2org(bank_no)


if __name__ == '__main__':
    import sys
    if len(sys.argv) < 2:
        print('no input')
    else:
        print(bank_num2org(sys.argv[1]))
        print(BankHelper.org_normalize('ICBC'))
        print(BankHelper.org_normalize('SG'))
        print(BankHelper.org_normalize(u'平安银行'))
